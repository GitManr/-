# 渊亭科技 

> **这是一个答题模块的代码**
>
> 主要有一个页面（kcbDetail）和一个弹窗的答题（topicNode）
>
> 用户进来会有一组需要回答的题目，题目可以单选或者多选，用户先选择选项，然后点击确定，确认完会立即得到结果及改题的解析，然后用户点击下一题。当为非第一题时可点击返回上一题查看，最后一题答完可点击完成，获取整个答题的结果。
>
> 具体效果如图

![http://q76e8mavs.bkt.clouddn.com/image-20200314162927884.png]()

![http://q76e8mavs.bkt.clouddn.com/WechatIMG4482.png]()



#### kcbDetail.js

主要作页面的布局及页面的逻辑文件，将页面的弹窗答题、答题结果弹窗、基础弹窗进行引入应用。
逻辑上，获取所有题目和当前用户正在答第几题的内容进行在当前js中进行处理。 对切换答题列表进行处理及离开后的数据状态清楚。

#### topicNode.js

该文件为当前的答题处理，运用了react hooks。（单个题目只负责自己题目的状态，题目与答题列表的关系放在父级文件处理）。

初始化的三个state分别代表当前用户的选中项（selectedArr）、是否锁定结果（isLock）及题目是单选还是多选（isSingle），同样也用useEffect 方法监听题目是否变化，来更新文件题目初始化。

该文件对单个选项进行函数组件（ChoseItem）的抽离，然后当个选项自己对自己的状态进行判断（未选中、选中、结果是否正确）。

